<?php
$escape = $this->plugin('escapeHtml');
$this->htmlElement('html')->appendAttribute('lang', $this->lang())->appendAttribute('class', 'h-100');
$this->headMeta()->setCharset('utf-8');
$this->headMeta()->appendName('viewport', 'width=device-width, initial-scale=1');
$this->headTitle($site->title())->setSeparator(' · ');
$this->headLink(['rel' => 'icon', 'type' => 'image/png', 'href' => $this->assetUrl('img/favicon.png')]);
$this->headLink(['rel' => 'icon', 'type' => 'image/svg+xml', 'href' => $this->assetUrl('img/favicon.svg')], 'PREPEND')
  ->prependStylesheet('https://cdn.knightlab.com/libs/timeline3/latest/css/timeline.css', 'screen', null)
  ->prependStylesheet($this->assetUrl('css/style.css'))
  ->prependStylesheet('https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.6.0/nouislider.css', 'screen', null, ['integrity' => 'sha512-MKxcSu/LDtbIYHBNAWUQwfB3iVoG9xeMCm32QV5hZ/9lFaQZJVaXfz9aFa0IZExWzCpm7OWvp9zq9gVip/nLMg==', 'crossorigin' => 'anonymous'])
  ->prependStylesheet('https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css', 'screen', null, ['integrity' => 'sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=', 'crossorigin' => 'anonymous'])
  ->prependStylesheet('https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css', 'screen', null, ['integrity' => 'sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU', 'crossorigin' => 'anonymous']);

$this->headScript()
  ->prependFile($this->assetUrl('js/advanced-search.js', 'Omeka'))
  ->prependFile($this->assetUrl('js/theme.js'))
  ->prependFile($this->assetUrl('js/global.js', 'Omeka'))
  ->prependFile('https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.6.0/nouislider.min.js', 'text/javascript', ['integrity' => 'sha512-1mDhG//LAjM3pLXCJyaA+4c+h5qmMoTc7IuJyuNNPaakrWT9rVTxICK4tIizf7YwJsXgDC2JP74PGCc7qxLAHw==', 'crossorigin' => 'anonymous'])
  ->prependFile('https://unpkg.com/infinite-scroll@4.0.1/dist/infinite-scroll.pkgd.min.js', 'text/javascript')
  ->prependFile('https://cdn.jsdelivr.net/npm/corejs-typeahead@1.3.1/dist/typeahead.bundle.min.js', 'text/javascript', ['integrity' => 'sha256-xZuy7z/QR1H5FKCYUbRDj4yvcyMEyVIg4iQUhs8MI+w=', 'crossorigin' => 'anonymous'])
  ->prependFile('https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js', 'text/javascript', ['integrity' => 'sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ', 'crossorigin' => 'anonymous'])
  ->prependFile('https://code.jquery.com/jquery-3.6.0.min.js', 'text/javascript', ['integrity' => 'sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=', 'crossorigin' => 'anonymous'])
  ->prependFile($this->assetUrl('js/timeline.js'));
$this->trigger('view.layout');
$userBar = $this->userBar();
?>
<?php echo $this->doctype(); ?>
<?php echo $this->htmlElement('html'); ?>
<?php $path = $_SERVER["REQUEST_URI"]; ?>

<head>

  <?php echo $this->headMeta(); ?>
  <?php echo $this->headTitle(); ?>
  <?php echo $this->headLink(); ?>
  <?php echo $this->headStyle(); ?>
  <?php echo $this->headScript(); ?>
</head>

<?php echo $this->htmlElement('body')->appendAttribute('class', ''); ?>
<a class="visually-hidden-focusable" href="#content">
  <?php echo $this->translate('Skip to main content'); ?>
</a>
<?php echo $userBar; ?>
<header>
  <div class="position-absolute top-0 start-0 p-3" style="z-index:1000;">
    <div class="language-picker d-none d-md-block">
      <a href="/s/ruzakegila/page/willkommen" class="text-dark text-decoration-none me-2 <?php echo $path == '/s/ruzakegila/page/willkommen' ? 'fw-bold' : ''; ?>">DE</a>
      <span>|</span>
      <a href="/s/ruzakegila-en/page/willkommen" class="text-dark text-decoration-none ms-2 <?php echo $path == '/s/ruzakegila-en/page/willkommen' ? 'fw-bold' : ''; ?>">EN</a>
    </div>
  </div>
  <div class="container pt-4 pb-2 d-none d-md-block">
    <div class="row justify-content-center">
      <div class="col-auto">
        <a href="/" class="logo text-dark text-decoration-none">
          <h1 class="visually-hidden"><?php echo $escape($site->title()); ?></h1>
          <img src="<?php echo $this->assetUrl('img/RuzakeGila_Regular.png'); ?>" title="Home" alt="Ruzake Gila Logo">
        </a>
      </div>
    </div>
  </div>
  <nav class="navbar navbar-expand-md navbar-light">
    <div class="container-fluid">
      <a class="navbar-brand  d-md-none" href="<?php echo $site->url(); ?>">

        <img src="<?php echo $this->assetUrl('img/RuzakeGila_Regular.png'); ?>" title="Home" alt="Ruzake Gila Logo">
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <?php echo $site->publicNav()->menu()->renderPartialWithParams(['site' => $site,], null, 'common/bootstrap-navigation.phtml'); ?>
      </div>
    </div>
  </nav>
</header>


<?php if ($path == "/s/ruzakegila/page/willkommen" || $path == "/s/ruzakegila-en/page/willkommen") : ?>
  <div class="carousel-wrapper container-fluid">
    <div class="carousel slide" data-bs-ride="carousel" id="carouselWelcomePage">
      <div class="carousel-inner">
        <div class="carousel-item active"><a href="/s/ruzakegila/item/372" target="_blank" title="1993 - Donauinsel - © Mehmet Emir"><img alt="Donauinsel - 1" class="d-block w-100" draggable="true" src="<?php echo $this->assetUrl('img/start-1.webp'); ?>" /></a></div>

        <div class="carousel-item"><a href="/s/ruzakegila/item/476" target="_blank" title="1991 - Amerlinghaus - © Gerhard Maurer"><img alt="Amerlinghaus - 2" class="d-block w-100" draggable="false" src="<?php echo $this->assetUrl('img/start-2.webp'); ?>" /> </a></div>

        <div class="carousel-item"><a href="/s/ruzakegila/item/370" target="_blank" title="1993 - Donauinsel - © Mehmet Emir"><img alt="Donauinsel - 3 " class="d-block w-100" draggable="false" src="<?php echo $this->assetUrl('img/start-3.webp'); ?>" /> </a></div>

        <div class="carousel-item"><a href="/s/ruzakegila/item/362" target="_blank" title="1991 - Amerlinghaus - © Gerhard Maurer"><img alt="Amerlinghaus - 4" class="d-block w-100" draggable="false" src="<?php echo $this->assetUrl('img/start-4.webp'); ?>" /> </a></div>
      </div>
      <button class="carousel-control-prev" data-bs-slide="prev" data-bs-target="#carouselWelcomePage" title="Previous" type="button"><span aria-hidden="true" class="carousel-control-prev-icon">&nbsp;</span> <span class="visually-hidden">Previous</span></button><button class="carousel-control-next" data-bs-slide="next" data-bs-target="#carouselWelcomePage" title="Next" type="button"><span aria-hidden="true" class="carousel-control-next-icon">&nbsp;</span> <span class="visually-hidden">Next</span></button>
    </div>
  </div>
<?php endif; ?>


<div class="container" id="content" role="main">
  <?php echo $this->content; ?>
  <div class="row">
    <div class="col-md-12 text-center">
      <a href="https://ruzakegila.mdw.ac.at/s/ruzakegila/page/willkommen">
        <img class="m-3" src="<?php echo $this->assetUrl('img/RuzakeGila_LARGE-sm.png'); ?>" alt="Ruzake gila Logo" id="ruzake-logo-bottom" title="Ružake Gila">
      </a>
    </div>
  </div>
</div>

<footer class="footer mt-auto py-3 pt-md-5 pb-md-3 border-top border-light">
  <div class="container text-center">
    <div class="row justify-content-center">
      <div class="col-md-12">
        <a href="https://www.mdw.ac.at">
          <img class="mx-3" src="<?php echo $this->assetUrl('img/mdw-logo.png'); ?>" alt="MDW Logo" id="mdw-logo" height="100">
        </a>
        <a href="https://doi.org/10.55776/Z352" title="Funded by the Austrian Science Fund (FWF): Z 352-G26">
          <img class="mx-3" src="<?php echo $this->assetUrl('img/fwf-logo.svg'); ?>" alt="Funded by the Austrian Science Fund (FWF): Z 352-G26" id="fwf-logo" height="100">
        </a>
        <a href="https://www.mdw.ac.at/musicandminorities/">
          <img class="mx-3" src="<?php echo $this->assetUrl('img/mm-logo.svg'); ?>" alt="Music & Minorities Logo" id="mm-logo" height="100">
        </a>
        <a href="https://www.oeaw.ac.at/phonogrammarchiv/">
          <img class="mx-3" src="<?php echo $this->assetUrl('img/ph-archiv-logo.png'); ?>" alt="Phonogrammarchiv Logo" id="ph-archiv-logo" height="100">
        </a>

        <!-- <p class="small">
          <?php echo date("Y"); ?> mdw – Universität für Musik und darstellende Kunst Wien
          <br>Anton-von-Webern-Platz 1
          <br>1030 Wien
          <br>E-Mail: <a href="mailto:mmrc@mdw.ac.at">mmrc@mdw.ac.at</a>
        </p> -->
        <p class="mt-3">
          <a href="https://www.mdw.ac.at/datenschutz/">Datenschutzerklärung</a>
          |
          <a href="https://www.mdw.ac.at/impressum/">Impressum</a>
          |
          <a href="https://doi.org/10.55776/Z352">https://doi.org/10.55776/Z352</a>
          |
          <a href="mailto:ruzakegila@mdw.ac.at">ruzakegila@mdw.ac.at</a>
        </p>
        <p class="mb-0"><a href="https://github.com/DigitalHumanitiesCraft/ruza-custom-theme">Theme</a> by <a href="https://dhcraft.org">DH Craft</a></p>
      </div>
    </div>
  </div>
</footer>
<button id="upButton" title="Go to top" class="shadow" style="display: none;"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-arrow-up-circle" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707z" />
  </svg></button>
</body>

<script>
  // When the user scrolls down 20px from the top of the document, show the button
  window.onscroll = function() {
    scrollFunction()
  };

  function scrollFunction() {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
      document.getElementById("upButton").style.display = "block";
    } else {
      document.getElementById("upButton").style.display = "none";
    }
  }

  // When the user clicks on the button, scroll to the top of the document
  document.getElementById("upButton").onclick = function() {
    document.body.scrollTop = 0; // For Safari
    document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
  }

  // Create a new Date object
  const today = new Date();

  // Get the day, month, and year from the date object
  const day = today.getDate(); // Day of the month
  const month = today.getMonth() + 1; // Month (0-11, thus adding 1 to get 1-12)
  const year = today.getFullYear(); // Full year

  // Construct the date string in D.M.YYYY format
  const dateString = `${day}.${month}.${year}`;

  // Get the element with the ID "current-date"
  var currentDateElement = document.getElementById("current-date");

  // Check if the element exists
  if (currentDateElement) {
    currentDateElement.textContent = dateString;
  }
</script>
<script src="<?php echo $this->assetUrl('js/translate.js'); ?>"></script>

</html>